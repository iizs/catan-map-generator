<html>
<head>
    <script src="js/lib/angular.min.js"></script>
    <script src="js/app/catan.js"></script>
    <style>
        polygon.tile { stroke: white; stroke-width:3 }
        polygon.tile.pasture { fill: url(#pasture); }   /* pasture */
        polygon.tile.mountain { fill: url(#mountain); }   /* mountain */
        polygon.tile.forest { fill: url(#forest); }   /* forest */
        polygon.tile.hill { fill: url(#hill); }   /* hill */
        polygon.tile.field { fill: url(#field); }   /* field */
        polygon.tile.sea { fill: url(#sea); }   /* sea */
        polygon.tile.dessert { fill: url(#dessert); }   /* dessert */
        polygon.tile.gold { fill: url(#gold); }   /* gold */
    </style>
</head>
<body>
    <div ng-app="catanApp">
        <div ng-controller="MainCtrl">
            <h1>{{ title }}</h1>
            <label>BoardType: </label>
            <select ng-model="boardType" />
                <option ng-repeat="board in boardTypes" value="{{board.value}}">{{board.name}}</option>
            </select>
            <br/>
            <label>Resource Adjacency: </label>
            <select ng-model="preferences.resourceAdjacency" />
                <option ng-repeat="opt in resourceAdjacencyOptions" value="{{opt.value}}">{{opt.name}}</option>
            </select>
            <br/>
            <input type="button" ng-click="regenerate()" value="Refresh"/><br/>
            <input type="checkbox" name="enableDebug" value="Y" ng-model="enableDebug">Enable Debug</br>
            <figure id="catan-map">
                <svg viewBox="-626.2177826491071 -626.2177826491071 1252.4355652982142 1252.4355652982142" style="max-width: 410px;"><g transform="rotate(-30)" fill="white" stroke="black">
                <defs>
                    <pattern id="pasture" patternUnits="objectBoundingBox" width="100%" height="100%"><image xlink:href="img/pasture.png"/></pattern>
                    <pattern id="mountain" patternUnits="objectBoundingBox" width="100%" height="100%"><image xlink:href="img/mountain.png"/></pattern>
                    <pattern id="forest" patternUnits="objectBoundingBox" width="100%" height="100%"><image xlink:href="img/forest.png"/></pattern>
                    <pattern id="hill" patternUnits="objectBoundingBox" width="100%" height="100%"><image xlink:href="img/hill.png"/></pattern>
                    <pattern id="field" patternUnits="objectBoundingBox" width="100%" height="100%"><image xlink:href="img/field.png"/></pattern>
                    <pattern id="sea" patternUnits="objectBoundingBox" width="100%" height="100%"><image xlink:href="img/sea.png"/></pattern>
                    <pattern id="dessert" patternUnits="objectBoundingBox" width="100%" height="100%"><image xlink:href="img/dessert.png"/></pattern>
                    <pattern id="gold" patternUnits="objectBoundingBox" width="100%" height="100%"><image xlink:href="img/gold.png"/></pattern>
                </defs>
                <g class="grid">
                    <catan-tile ng-repeat="tile in map.tiles" tile="tile"/>
                </g>    
                </svg>
            </figure>
            <div ng-show="enableDebug"><p>{{map}}</p></div>
        </div>
    </div>
    <div>
        <figure id="cmap">
        <svg viewBox="-626.2177826491071 -626.2177826491071 1252.4355652982142 1252.4355652982142" style="max-width: 410px;"><g transform="rotate(-30)" fill="white" stroke="black"><g class="grid">
        <g transform="translate(-450,-260)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-3</tspan><tspan x="44" y="-16" class="r-coord">0</tspan><tspan x="0" y="60" class="s-coord">+3</tspan></text></g></g><g transform="translate(-450,-87)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-3</tspan><tspan x="44" y="-16" class="r-coord">+1</tspan><tspan x="0" y="60" class="s-coord">+2</tspan></text></g></g><g transform="translate(-450,87)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-3</tspan><tspan x="44" y="-16" class="r-coord">+2</tspan><tspan x="0" y="60" class="s-coord">+1</tspan></text></g></g><g transform="translate(-450,260)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-3</tspan><tspan x="44" y="-16" class="r-coord">+3</tspan><tspan x="0" y="60" class="s-coord">0</tspan></text></g></g><g transform="translate(-300,-346)"><g class="r-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-2</tspan><tspan x="44" y="-16" class="r-coord">-1</tspan><tspan x="0" y="60" class="s-coord">+3</tspan></text></g></g><g transform="translate(-300,-173)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-2</tspan><tspan x="44" y="-16" class="r-coord">0</tspan><tspan x="0" y="60" class="s-coord">+2</tspan></text></g></g><g transform="translate(-300,0)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-2</tspan><tspan x="44" y="-16" class="r-coord">+1</tspan><tspan x="0" y="60" class="s-coord">+1</tspan></text></g></g><g transform="translate(-300,173)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-2</tspan><tspan x="44" y="-16" class="r-coord">+2</tspan><tspan x="0" y="60" class="s-coord">0</tspan></text></g></g><g transform="translate(-300,346)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-2</tspan><tspan x="44" y="-16" class="r-coord">+3</tspan><tspan x="0" y="60" class="s-coord">-1</tspan></text></g></g><g transform="translate(-150,-433)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-1</tspan><tspan x="44" y="-16" class="r-coord">-2</tspan><tspan x="0" y="60" class="s-coord">+3</tspan></text></g></g><g transform="translate(-150,-260)"><g class="r-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-1</tspan><tspan x="44" y="-16" class="r-coord">-1</tspan><tspan x="0" y="60" class="s-coord">+2</tspan></text></g></g><g transform="translate(-150,-87)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-1</tspan><tspan x="44" y="-16" class="r-coord">0</tspan><tspan x="0" y="60" class="s-coord">+1</tspan></text></g></g><g transform="translate(-150,87)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-1</tspan><tspan x="44" y="-16" class="r-coord">+1</tspan><tspan x="0" y="60" class="s-coord">0</tspan></text></g></g><g transform="translate(-150,260)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-1</tspan><tspan x="44" y="-16" class="r-coord">+2</tspan><tspan x="0" y="60" class="s-coord">-1</tspan></text></g></g><g transform="translate(-150,433)"><g class="s-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">-1</tspan><tspan x="44" y="-16" class="r-coord">+3</tspan><tspan x="0" y="60" class="s-coord">-2</tspan></text></g></g><g transform="translate(0,-520)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">0</tspan><tspan x="44" y="-16" class="r-coord">-3</tspan><tspan x="0" y="60" class="s-coord">+3</tspan></text></g></g><g transform="translate(0,-346)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">0</tspan><tspan x="44" y="-16" class="r-coord">-2</tspan><tspan x="0" y="60" class="s-coord">+2</tspan></text></g></g><g transform="translate(0,-173)"><g class="r-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">0</tspan><tspan x="44" y="-16" class="r-coord">-1</tspan><tspan x="0" y="60" class="s-coord">+1</tspan></text></g></g><g transform="translate(0,0)"><g class="origin"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">x</tspan><tspan x="44" y="-16" class="r-coord">z</tspan><tspan x="0" y="60" class="s-coord">y</tspan></text></g></g><g transform="translate(0,173)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">0</tspan><tspan x="44" y="-16" class="r-coord">+1</tspan><tspan x="0" y="60" class="s-coord">-1</tspan></text></g></g><g transform="translate(0,346)"><g class="s-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">0</tspan><tspan x="44" y="-16" class="r-coord">+2</tspan><tspan x="0" y="60" class="s-coord">-2</tspan></text></g></g><g transform="translate(0,520)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">0</tspan><tspan x="44" y="-16" class="r-coord">+3</tspan><tspan x="0" y="60" class="s-coord">-3</tspan></text></g></g><g transform="translate(150,-433)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+1</tspan><tspan x="44" y="-16" class="r-coord">-3</tspan><tspan x="0" y="60" class="s-coord">+2</tspan></text></g></g><g transform="translate(150,-260)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+1</tspan><tspan x="44" y="-16" class="r-coord">-2</tspan><tspan x="0" y="60" class="s-coord">+1</tspan></text></g></g><g transform="translate(150,-87)"><g class="r-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+1</tspan><tspan x="44" y="-16" class="r-coord">-1</tspan><tspan x="0" y="60" class="s-coord">0</tspan></text></g></g><g transform="translate(150,87)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+1</tspan><tspan x="44" y="-16" class="r-coord">0</tspan><tspan x="0" y="60" class="s-coord">-1</tspan></text></g></g><g transform="translate(150,260)"><g class="s-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+1</tspan><tspan x="44" y="-16" class="r-coord">+1</tspan><tspan x="0" y="60" class="s-coord">-2</tspan></text></g></g><g transform="translate(150,433)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+1</tspan><tspan x="44" y="-16" class="r-coord">+2</tspan><tspan x="0" y="60" class="s-coord">-3</tspan></text></g></g><g transform="translate(300,-346)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+2</tspan><tspan x="44" y="-16" class="r-coord">-3</tspan><tspan x="0" y="60" class="s-coord">+1</tspan></text></g></g><g transform="translate(300,-173)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+2</tspan><tspan x="44" y="-16" class="r-coord">-2</tspan><tspan x="0" y="60" class="s-coord">0</tspan></text></g></g><g transform="translate(300,0)"><g class="r-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+2</tspan><tspan x="44" y="-16" class="r-coord">-1</tspan><tspan x="0" y="60" class="s-coord">-1</tspan></text></g></g><g transform="translate(300,173)"><g class="s-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+2</tspan><tspan x="44" y="-16" class="r-coord">0</tspan><tspan x="0" y="60" class="s-coord">-2</tspan></text></g></g><g transform="translate(300,346)"><g class=""><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+2</tspan><tspan x="44" y="-16" class="r-coord">+1</tspan><tspan x="0" y="60" class="s-coord">-3</tspan></text></g></g><g transform="translate(450,-260)"><g class="q-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+3</tspan><tspan x="44" y="-16" class="r-coord">-3</tspan><tspan x="0" y="60" class="s-coord">0</tspan></text></g></g><g transform="translate(450,-87)"><g class="q-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+3</tspan><tspan x="44" y="-16" class="r-coord">-2</tspan><tspan x="0" y="60" class="s-coord">-1</tspan></text></g></g><g transform="translate(450,87)"><g class="highlight q-axis-same r-axis-same s-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+3</tspan><tspan x="44" y="-16" class="r-coord">-1</tspan><tspan x="0" y="60" class="s-coord">-2</tspan></text></g></g><g transform="translate(450,260)"><g class="q-axis-same"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon><text transform="rotate(30)"><tspan x="-52" y="-16" class="q-coord">+3</tspan><tspan x="44" y="-16" class="r-coord">0</tspan><tspan x="0" y="60" class="s-coord">-3</tspan></text></g></g></g>
        
        <!--<g transform="rotate(30) translate(-500, 500) rotate(-30) scale(0.75)" class="axes"><g transform="translate(135,0)"><path transform="translate(-22.5,0.0) rotate(180)" d="M 0 0 l 20 20 l 0 -10 l 77.5 0 l -3 -10 l 3 -10 l -77.5 0 l 0 -10 Z" class="q"></path> <text dy="0.4em" transform="rotate(30)">+x</text></g><g transform="translate(-67.49999999999997,116.91342951089922)"><path transform="translate(11.2,-19.5) rotate(-60.00000000000001)" d="M 0 0 l 20 20 l 0 -10 l 77.49999999999999 0 l -3 -10 l 3 -10 l -77.49999999999999 0 l 0 -10 Z" class="r"></path> <text dy="0.4em" transform="rotate(30)">+z</text></g><g transform="translate(-67.50000000000006,-116.91342951089919)"><path transform="translate(11.3,19.5) rotate(59.99999999999997)" d="M 0 0 l 20 20 l 0 -10 l 77.5 0 l -3 -10 l 3 -10 l -77.5 0 l 0 -10 Z" class="s"></path> <text dy="0.4em" transform="rotate(30)">+y</text></g><g transform="translate(-135,1.6532731788489267e-14)"><path transform="translate(22.5,-0.0) rotate(-7.0167092985348775e-15)" d="M 0 0 l 20 20 l 0 -10 l 77.5 0 l -3 -10 l 3 -10 l -77.5 0 l 0 -10 Z" class="q"></path> <text dy="0.4em" transform="rotate(30)">-x</text></g><g transform="translate(67.50000000000001,-116.9134295108992)"><path transform="translate(-11.3,19.5) rotate(120.00000000000001)" d="M 0 0 l 20 20 l 0 -10 l 77.5 0 l -3 -10 l 3 -10 l -77.5 0 l 0 -10 Z" class="r"></path> <text dy="0.4em" transform="rotate(30)">-z</text></g><g transform="translate(67.50000000000001,116.9134295108992)"><path transform="translate(-11.3,-19.5) rotate(-120.00000000000001)" d="M 0 0 l 20 20 l 0 -10 l 77.5 0 l -3 -10 l 3 -10 l -77.5 0 l 0 -10 Z" class="s"></path> <text dy="0.4em" transform="rotate(30)">-y</text></g></g>-->
        </g> 
        <!--<g transform="translate(626.2177826491071,626.2177826491071) scale(1)"><g transform="translate(-175,-50) scale(0.5)" class="toggle-orientation"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon> <text dy="0.4em">flat</text></g> <g transform="translate(-75,-50) rotate(-30) scale(0.5)" class="toggle-orientation selected"><polygon points="100,0 50,-87 -50,-87 -100,-0 -50,87 50,87"></polygon> <text dy="0.4em" transform="rotate(30)">pointy</text></g></g>-->
        </svg>
        </figure>
    </div>
</body>
</html>
